(function(t){function e(e){for(var s,i,n=e[0],d=e[1],c=e[2],m=0,u=[];m<n.length;m++)i=n[m],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&u.push(o[i][0]),o[i]=0;for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&(t[s]=d[s]);l&&l(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,n=1;n<a.length;n++){var d=a[n];0!==o[d]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},o={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],d=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var l=d;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("becf"),a("cabf"),a("3c76");var s=a("c051"),o=a.n(s),r=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flyout",attrs:{id:"app"}},[a("navbar"),a("main",[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1),a("Footer")],1)},n=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("mdb-navbar",{staticStyle:{"z-index":"10"},attrs:{expand:"large",dark:"",color:"blue-gradient",id:"main-navbar",position:"top",scrolling:"",scrollingOffset:20}},[a("mdb-navbar-toggler",[a("mdb-navbar-nav",[a("mdb-nav-item",{attrs:{to:"/"}},[a("mdb-icon",{staticClass:"mx-2",attrs:{regular:"",icon:"paper-plane"}}),t._v("Home")],1),a("mdb-nav-item",{attrs:{to:"/index"}},[a("i",{staticClass:"fa fa-indent mr-2",attrs:{"aria-hidden":"true"}}),t._v("Categories")]),a("mdb-nav-item",{attrs:{to:""}},[a("i",{staticClass:"fa fa-person-booth mr-2",attrs:{"aria-hidden":"true"}}),t._v("Products")])],1),a("mdb-navbar-nav",{attrs:{right:""}},[t.isLoggedIn?a("mdb-nav-item",[a("mdb-icon",{staticClass:"mx-2",attrs:{regular:"",icon:"smile"}}),t._v("Welcome, "+t._s(t.$store.state.userInfo.name))],1):t._e(),"admin"===t.$store.state.userInfo.role?a("mdb-nav-item",{attrs:{to:"/admin"}},[a("i",{staticClass:"fa fa-user-shield mr-2",attrs:{"aria-hidden":"true"}}),t._v("Admin Homepage")]):t._e(),"merchant"===t.$store.state.userInfo.role?a("mdb-nav-item",{attrs:{to:"/merchant"}},[a("i",{staticClass:"fa fa-store-alt mr-2",attrs:{"aria-hidden":"true"}}),t._v("Your Store Homepage")]):t._e(),"customer"===t.$store.state.userInfo.role?a("mdb-nav-item",[a("i",{staticClass:"fas fa-cart-plus mr-2",attrs:{"aria-hidden":"true"}}),t._v(" Cart")]):t._e(),t.isLoggedIn?t._e():a("mdb-nav-item",{on:{click:function(e){t.$store.commit("showLoginModal"),t.loginHasError=!1,t.$store.commit("hideInfoLogin")}}},[a("i",{staticClass:"fa fa-sign-out-alt mr-2",attrs:{"aria-hidden":"true"}}),t._v("Login")]),t.isLoggedIn?t._e():a("mdb-nav-item",{attrs:{to:"/register"}},[a("i",{staticClass:"fa fa-signature mr-2",attrs:{"aria-hidden":"true"}}),t._v("Register")]),t.isLoggedIn?a("mdb-nav-item",{attrs:{to:"/logout"}},[a("i",{staticClass:"fa fa-power-off mr-2",attrs:{"aria-hidden":"true"}}),t._v("Logout")]):t._e()],1)],1)],1),a("mdb-modal",{staticClass:"text-left",attrs:{show:t.showModal,cascade:""},on:{close:function(e){t.$store.commit("hideLoginModal"),t.$store.commit("hideInfoLogin"),t.$store.commit("setLoginEmail",""),t.userPassword=""}}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("mdb-modal-header",{staticClass:"primary-color white-text"},[a("h4",{staticClass:"title"},[a("mdb-icon",{attrs:{icon:"pencil-alt"}}),t._v(" Login")],1)]),a("mdb-modal-body",{staticClass:"grey-text"},[t.loginHasError?a("mdb-alert",{staticClass:"animated",class:t.animatedClass,attrs:{color:"danger"}},[t._v(t._s(t.loginError))]):t._e(),t.loginHasInfo?a("mdb-alert",{staticClass:"animated",class:t.animatedClass,attrs:{color:"info"}},[t._v(t._s(t.loginInfo))]):t._e(),a("mdb-input",{attrs:{size:"sm",label:"Your email",icon:"user",group:"",type:"email",validate:"",error:"wrong",success:"right"},model:{value:t.userEmail,callback:function(e){t.userEmail=e},expression:"userEmail"}}),a("mdb-input",{attrs:{size:"sm",label:"Password",icon:"lock",group:"",type:t.passwordType,validate:"",error:"wrong",success:"right"},model:{value:t.userPassword,callback:function(e){t.userPassword=e},expression:"userPassword"}},[a("mdb-btn",{attrs:{title:"show / hide password"},on:{click:t.toggleLoginModal}},[a("mdb-icon",{attrs:{icon:t.loginModalIcon}})],1)],1)],1),a("mdb-modal-footer",[a("mdb-btn",{staticClass:"col-sm-12",attrs:{type:"submit"}},[t._v("Continue")])],1)],1)])],1)},c=[],l=a("bc3a"),m=a.n(l),u=a("91c9"),h={name:"navbar",components:{mdbAlert:u["mdbAlert"],mdbIcon:u["mdbIcon"],mdbNavbar:u["mdbNavbar"],mdbNavItem:u["mdbNavItem"],mdbNavbarNav:u["mdbNavbarNav"],mdbNavbarToggler:u["mdbNavbarToggler"],mdbInput:u["mdbInput"],mdbBtn:u["mdbBtn"],mdbModal:u["mdbModal"],mdbModalHeader:u["mdbModalHeader"],mdbModalBody:u["mdbModalBody"],mdbModalFooter:u["mdbModalFooter"]},data:function(){return{passwordType:"password",loginHasError:!1,loginError:"",userPassword:"",animatedClass:"",loginModalIcon:"eye-slash"}},computed:{userEmail:{get:function(){return this.$store.state.loginEmail},set:function(t){this.$store.commit("setLoginEmail",t)}},isLoggedIn:function(){return this.$store.state.isLoggedIn},showModal:function(){return this.$store.state.loginModal},loginHasInfo:function(){return this.$store.state.loginHasInfo},loginInfo:function(){return this.$store.state.loginInfo}},methods:{showLogin:function(){this.showModal=!0,this.userPassword="",this.loginHasError=!1},login:function(){var t=this;this.animatedClass="",this.loginHasError=!1,this.$store.commit("hideInfoLogin"),console.log(this.userEmail),m()({method:"post",url:"https://afternoon-beyond-11115.herokuapp.com/users/login",data:{email:this.userEmail,password:this.userPassword}}).then((function(e){t.$store.commit("setLoginEmail",""),t.userPassword="",t.loginHasError=!1,t.$store.commit("hideLoginModal"),localStorage.setItem("cmsaccesstoken",e.data.cmsaccesstoken),t.$store.commit("SetIsLogin",!0),t.$store.commit("setInfo",t.$jwt.decode(localStorage.cmsaccesstoken,"handycuttyspicy")),"admin"===t.$store.state.userInfo.role?t.$router.push("/admin"):"merchant"===t.$store.state.userInfo.role?t.$router.push("/merchant"):t.$router.push("/")})).catch((function(e){t.loginHasError=!0,t.animatedClass="pulse",t.loginError=e.response.data.error}))},toggleLoginModal:function(){"text"==this.passwordType?this.passwordType="password":this.passwordType="text","eye-slash"==this.loginModalIcon?this.loginModalIcon="eye":this.loginModalIcon="eye-slash"}}},b=h,p=a("2877"),g=Object(p["a"])(b,d,c,!1,null,null,null),f=g.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("mdb-footer",{staticClass:"font-small pt-4 mt-4",attrs:{color:"blue"}},[a("mdb-container",{staticClass:"text-left"},[a("mdb-row",[a("mdb-col",{attrs:{sm:"6"}},[a("h5",{staticClass:"title"},[t._v("Footer Content")]),a("p",[t._v("Here you can use rows and columns here to organize your footer content.")])]),a("mdb-col",{attrs:{sm:"6"}},[a("h5",{staticClass:"title"},[t._v("Links")]),a("ul",[a("li",{staticClass:"list-unstyled"},[a("a",{attrs:{href:"#!"}},[t._v("Link 1")])]),a("li",{staticClass:"list-unstyled"},[a("a",{attrs:{href:"#!"}},[t._v("Link 2")])]),a("li",{staticClass:"list-unstyled"},[a("a",{attrs:{href:"#!"}},[t._v("Link 3")])]),a("li",{staticClass:"list-unstyled"},[a("a",{attrs:{href:"#!"}},[t._v("Link 4")])])])])],1)],1),a("div",{staticClass:"blue-gradient footer-copyright text-center py-3"},[a("mdb-container",{attrs:{fluid:""}},[t._v(" Â© 2018 Powered by : "),a("a",{attrs:{href:"https://www.MDBootstrap.com"}},[t._v(" MDBootstrap.com ")]),a("br"),a("a",{attrs:{href:"https://www.freepik.com/free-photos-vectors/background"}},[t._v("Background photo created by freepik - www.freepik.com")])])],1)],1)},y=[],C={name:"Footer",components:{mdbFooter:u["mdbFooter"],mdbContainer:u["mdbContainer"],mdbRow:u["mdbRow"],mdbCol:u["mdbCol"]}},_=C,w=Object(p["a"])(_,v,y,!1,null,null,null),E=w.exports,I={created:function(){localStorage.cmsaccesstoken&&(this.$store.commit("SetIsLogin",!0),this.$store.commit("setInfo",this.$jwt.decode(localStorage.cmsaccesstoken,"handycuttyspicy")))},components:{navbar:f,Footer:E}},k=I,P=(a("5c0b"),Object(p["a"])(k,i,n,!1,null,null,null)),x=P.exports,M=a("8c4f"),N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("mdb-container",{staticClass:"mt-5"},[a("mdb-row",{staticClass:"mt-5 align-items-center justify-content-start"},[a("section",[a("mdb-card",{staticClass:"card-image",staticStyle:{"background-image":"url(https://mdbootstrap.com/img/Photos/Others/gradient1.jpg)"}},[a("div",{staticClass:"text-white text-center py-5 px-4 my-5"},[a("div",[a("h2",{staticClass:"card-title h1-responsive pt-3 mb-5 font-bold"},[a("strong",[t._v("Create your beautiful website with MDBootstrap")])]),a("p",{staticClass:"mx-5 mb-5"},[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit. Repellat fugiat, laboriosam, voluptatem, optio vero odio nam sit officia accusamus minus error nisi architecto nulla ipsum dignissimos. Odit sed qui, dolorum! ")])])])])],1)]),a("mdb-row",{staticClass:"mt-4"},[a("section",[a("mdb-masonry",{attrs:{flexbox:"",responsive:"",maxHeight:1200}},[a("mdb-masonry-item",{attrs:{src:"https://mdbootstrap.com/img/Photos/Others/food3.jpg",itemStyle:{width:"33.4%"}}}),a("mdb-masonry-item",{attrs:{src:"https://mdbootstrap.com/img/Photos/Others/image06.jpg",itemStyle:{width:"33.4%"}}}),a("mdb-masonry-item",{attrs:{src:"https://mdbootstrap.com/img/Photos/Others/image17.jpg",itemStyle:{width:"33.4%"}}}),a("mdb-masonry-item",{attrs:{src:"https://mdbootstrap.com/img/Photos/Others/image02.jpg",itemStyle:{width:"33.3%"}}}),a("mdb-masonry-item",{attrs:{src:"https://mdbootstrap.com/img/Photos/Others/image008.jpg",itemStyle:{width:"33.3%"}}}),a("mdb-masonry-item",{attrs:{src:"https://mdbootstrap.com/img/Photos/Others/image010.jpg",itemStyle:{width:"33.3%"}}}),a("mdb-masonry-item",{attrs:{src:"https://mdbootstrap.com/img/Photos/Others/image002.jpg",itemStyle:{width:"33.3%"}}}),a("mdb-masonry-item",{attrs:{src:"https://mdbootstrap.com/img/Photos/Others/image005.jpg",itemStyle:{width:"33.3%"}}}),a("mdb-masonry-item",{attrs:{src:"https://mdbootstrap.com/img/Photos/Others/image18.jpg",itemStyle:{width:"33.3%"}}})],1)],1)])],1)],1)},H=[],$={name:"index",components:{mdbCard:u["mdbCard"],mdbContainer:u["mdbContainer"],mdbRow:u["mdbRow"],mdbMasonry:u["mdbMasonry"],mdbMasonryItem:u["mdbMasonryItem"]}},S=$,L=Object(p["a"])(S,N,H,!1,null,null,null),D=L.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("mdb-container",{staticClass:"mb-5"},[a("mdb-row",{staticClass:"align-items-center justify-content-start"},[a("section",{staticClass:"demo-section ml-auto mr-auto animate"},[a("h2",[t._v("Registration")]),a("mdb-btn",{attrs:{slot:"append",color:"primary",size:"lg",group:"",id:"button-addon2"},on:{click:function(e){return t.toggleForm("customer")}},slot:"append"},[t._v("Register as Customer")]),t._v(" "),a("mdb-btn",{staticClass:"animate",attrs:{slot:"append",color:"primary",size:"lg",group:"",id:"button-addon2"},on:{click:function(e){return t.toggleForm("merchant")}},slot:"append"},[t._v("Register as Merchant")])],1)]),a("hr"),a("section",[a("mdb-row",{staticClass:"align-items-center justify-content-start"},["customer"==t.activeTab?a("mdb-col",{staticClass:"ml-auto mr-auto animate",attrs:{sm:"12",md:"8",lg:"6"}},[a("mdb-card",[a("mdb-card-body",[a("form",{on:{submit:function(e){return e.preventDefault(),t.userRegister(e)}}},[a("p",{staticClass:"h4 text-center py-4"},[t._v("Sign up as Customer")]),a("div",{staticClass:"grey-text text-left "},[t.userRegisterHasError?a("mdb-alert",{staticClass:"animated",class:t.animatedClass1,attrs:{color:"danger"}},[t._v(t._s(t.userRegisterError))]):t._e(),a("mdb-input",{attrs:{label:"Your name",icon:"user",group:"",type:"text",validate:"",error:"wrong",success:"right"},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}}),a("mdb-input",{attrs:{label:"Your email",icon:"envelope",group:"",type:"email",validate:"",error:"wrong",success:"right"},model:{value:t.userEmail,callback:function(e){t.userEmail=e},expression:"userEmail"}}),a("mdb-input",{staticClass:"mt-0 mb-3",attrs:{type:t.typePass1,placeholder:"Password",ariaDescribedBy:"button-addon2"},model:{value:t.userPass,callback:function(e){t.userPass=e},expression:"userPass"}},[a("mdb-btn",{staticClass:"animate",attrs:{slot:"append",icon:t.typeIcon1,iconColor:"white",color:"primary",size:"md",group:"",id:"button-addon2"},on:{click:t.revealUserPass},slot:"append"})],1),a("mdb-input",{staticClass:"mt-0 mb-3",attrs:{type:t.typePass2,placeholder:"Verify Password",ariaDescribedBy:"button-addon2"},model:{value:t.userVerify,callback:function(e){t.userVerify=e},expression:"userVerify"}},[a("mdb-btn",{staticClass:"animate",attrs:{slot:"append",icon:t.typeIcon2,iconColor:"white",color:"info",size:"md",group:"",id:"button-addon2"},on:{click:t.revealUserVerify},slot:"append"})],1)],1),a("div",{staticClass:"text-center py-4 mt-3"},[a("mdb-btn",{attrs:{color:"cyan",icon:"smile-wink",type:"submit"}},[t._v("Start Shopping")])],1)])])],1)],1):t._e(),"merchant"==t.activeTab?a("mdb-col",{staticClass:"ml-auto mr-auto",attrs:{sm:"12",md:"8",lg:"6"}},[a("mdb-card",[a("mdb-card-body",[a("form",{on:{submit:function(e){return e.preventDefault(),t.triggerMerchantDisclaimer(e)}}},[a("p",{staticClass:"h4 text-center py-4"},[t._v("Sign up as Merchant")]),a("div",{staticClass:"grey-text text-left "},[t.merchantRegisterHasError?a("mdb-alert",{staticClass:"animated",class:t.animatedClass2,attrs:{color:"danger"}},[t._v(t._s(t.merchantRegisterError))]):t._e(),a("mdb-input",{attrs:{label:"Your name",icon:"user",group:"",type:"text",validate:"",error:"wrong",success:"right"},model:{value:t.merchantName,callback:function(e){t.merchantName=e},expression:"merchantName"}}),a("mdb-input",{attrs:{label:"Your email",icon:"envelope",group:"",type:"email",validate:"",error:"wrong",success:"right"},model:{value:t.merchantEmail,callback:function(e){t.merchantEmail=e},expression:"merchantEmail"}}),a("mdb-input",{staticClass:"mt-0 mb-3",attrs:{type:t.typePass3,placeholder:"Password",ariaDescribedBy:"button-addon2"},model:{value:t.merchantPass,callback:function(e){t.merchantPass=e},expression:"merchantPass"}},[a("mdb-btn",{attrs:{slot:"append",icon:t.typeIcon3,iconColor:"white",color:"primary",size:"md",group:"",id:"button-addon2"},on:{click:t.revealMerchantPass},slot:"append"})],1),a("mdb-input",{staticClass:"mt-0 mb-3",attrs:{type:t.typePass4,placeholder:"Verify Password",ariaDescribedBy:"button-addon2"},model:{value:t.merchantVerify,callback:function(e){t.merchantVerify=e},expression:"merchantVerify"}},[a("mdb-btn",{attrs:{slot:"append",icon:t.typeIcon4,iconColor:"white",color:"info",size:"md",group:"",id:"button-addon2"},on:{click:t.revealMerchantVerify},slot:"append"})],1)],1),a("div",{staticClass:"text-center py-4 mt-3"},[a("mdb-btn",{attrs:{icon:"handshake",color:"cyan",type:"submit"}},[t._v("Join Us")])],1)])])],1)],1):t._e()],1)],1),a("mdb-modal",{attrs:{show:t.merchantDisclaimerModal,scrollable:""},on:{close:function(e){t.merchantDisclaimerModal=!1}}},[a("mdb-modal-header",[a("mdb-modal-title",[t._v("Merchant Disclaimer")])],1),a("mdb-modal-body",[a("p",[t._v("Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.")]),a("p",[t._v("Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.")]),a("p",[t._v("Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla.")]),a("p",[t._v("Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.")]),a("p",[t._v("Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.")])]),a("mdb-modal-footer",[a("mdb-btn",{attrs:{color:"secondary"},nativeOn:{click:function(e){t.merchantDisclaimerModal=!1}}},[t._v("Disagree")]),a("mdb-btn",{attrs:{color:"primary"},on:{click:function(e){t.merchantDisclaimerModal=!1,t.merchantDisclaimerisShown=!0,t.merchantRegister()}}},[t._v("Agree")])],1)],1)],1)},j=[],A={name:"register",components:{mdbAlert:u["mdbAlert"],mdbContainer:u["mdbContainer"],mdbRow:u["mdbRow"],mdbCol:u["mdbCol"],mdbInput:u["mdbInput"],mdbBtn:u["mdbBtn"],mdbCard:u["mdbCard"],mdbCardBody:u["mdbCardBody"],mdbModal:u["mdbModal"],mdbModalTitle:u["mdbModalTitle"],mdbModalHeader:u["mdbModalHeader"],mdbModalBody:u["mdbModalBody"],mdbModalFooter:u["mdbModalFooter"]},data:function(){return{activeTab:"customer",userRegisterHasError:!1,userRegisterError:"",merchantRegisterHasError:!1,merchantRegisterError:"",userName:"",userEmail:"",userPass:"",userVerify:"",merchantName:"",merchantEmail:"",merchantPass:"",merchantVerify:"",typePass1:"password",typeIcon1:"eye-slash",typePass2:"password",typeIcon2:"eye-slash",typePass3:"password",typeIcon3:"eye-slash",typePass4:"password",typeIcon4:"eye-slash",animatedClass1:"",animatedClass2:"",merchantDisclaimerModal:!1,merchantDisclaimerisShown:!1}},methods:{revealUserPass:function(){"text"==this.typePass1?this.typePass1="password":this.typePass1="text","eye"==this.typeIcon1?this.typeIcon1="eye-slash":this.typeIcon1="eye"},revealUserVerify:function(){"text"==this.typePass2?this.typePass2="password":this.typePass2="text","eye"==this.typeIcon2?this.typeIcon2="eye-slash":this.typeIcon2="eye"},revealMerchantPass:function(){"text"==this.typePass3?this.typePass3="password":this.typePass3="text","eye"==this.typeIcon3?this.typeIcon3="eye-slash":this.typeIcon3="eye"},revealMerchantVerify:function(){"text"==this.typePass4?this.typePass4="password":this.typePass4="text","eye"==this.typeIcon4?this.typeIcon4="eye-slash":this.typeIcon4="eye"},toggleForm:function(t){this.userRegisterHasError=!1,this.merchantRegisterHasError=!1,this.activeTab="customer"==t?"customer":"merchant"},triggerMerchantDisclaimer:function(){this.merchantDisclaimerisShown?this.merchantRegister():this.merchantDisclaimerModal=!0},clearForm:function(){this.userName="",this.userEmail="",this.userPass="",this.userVerify="",this.merchantName="",this.merchantEmail="",this.merchantPass="",this.merchantVerify=""},merchantRegister:function(){var t=this;this.animatedClass2="",this.merchantRegisterHasError=!1,this.merchantRegisterError="",this.merchantPass!==this.merchantVerify?(this.animatedClass2="pulse",this.merchantRegisterHasError=!0,this.merchantRegisterError="Check your password"):m.a.post("https://afternoon-beyond-11115.herokuapp.com/users/register",{name:this.merchantName,email:this.merchantEmail,password:this.merchantPass,role:"merchant"}).then((function(){t.$store.commit("showLoginModal"),t.$store.commit("showInfoLogin"),t.$store.commit("setLoginInfo","Registrasi berhasil menggunakan ".concat(t.merchantEmail,", silahkan login")),t.$store.commit("setLoginEmail",t.merchantEmail),t.clearForm()})).catch((function(e){t.merchantRegisterHasError=!0,t.animatedClass2="pulse",t.merchantRegisterError=e.response.data.error,"Email is used, use login instead"==t.merchantRegisterError&&setTimeout((function(){t.animatedClass2="",t.merchantRegisterHasError=!1,t.merchantRegisterError="",t.$store.commit("setLoginEmail",t.merchantEmail),t.$store.commit("showLoginModal"),t.clearForm()}),4e3)}))},userRegister:function(){var t=this;this.animatedClass1="",this.userRegisterHasError=!1,this.userRegisterError="",this.userPass!==this.userVerify?(this.animatedClass1="pulse",this.userRegisterHasError=!0,this.userRegisterError="Check your password"):m.a.post("https://afternoon-beyond-11115.herokuapp.com/users/register",{name:this.userName,email:this.userEmail,password:this.userPass}).then((function(){t.$store.commit("showLoginModal"),t.$store.commit("showInfoLogin"),t.$store.commit("setLoginInfo","Registrasi berhasil menggunakan ".concat(t.userEmail,", silahkan login")),t.$store.commit("setLoginEmail",t.userEmail),t.clearForm()})).catch((function(e){t.userRegisterHasError=!0,t.animatedClass1="pulse",t.userRegisterError=e.response.data.error,"Email is used, use login instead"==t.userRegisterError&&setTimeout((function(){t.animatedClass2="",t.userRegisterHasError=!1,t.userRegisterError="",t.$store.commit("setLoginEmail",t.userEmail),t.$store.commit("showLoginModal"),t.clearForm()}),4e3)}))}},created:function(){1==this.$store.state.isLoggedIn&&this.$router.push("/")}},T=A,O=Object(p["a"])(T,R,j,!1,null,null,null),B=O.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},z=[],V={name:"Logout",created:function(){var t=this;this.$store.dispatch("clearUserInfo").then((function(){localStorage.clear(),t.$router.push("/")}))}},U=V,Y=Object(p["a"])(U,F,z,!1,null,null,null),q=Y.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("mdb-container",{staticClass:"mt-5",attrs:{id:"categoriesTable"}},[a("mdb-navbar",{staticClass:"lighten-4",attrs:{color:"info"}},[a("mdb-navbar-nav",{attrs:{nav:"",center:""}},[a("mdb-nav-item",{staticClass:"bg-light btn btn-sm mr-4",attrs:{href:"#categoriesTable"}},[t._v("Categories")]),a("mdb-nav-item",{staticClass:"bg-light btn btn-sm mr-4",attrs:{href:"#productsTable"}},[t._v("Products")])],1)],1)],1),a("mdb-container",{staticClass:"mt-5",attrs:{id:"categoriesTable"}},[a("mdb-row",{staticClass:"mt-5 align-items-left justify-content-start"},[a("section",{staticClass:"col-md-12"},[a("h3",[t._v("All Categories")]),a("br"),a("mdb-btn",{staticClass:"m-0",attrs:{color:"primary"},on:{click:function(e){t.showAddModal=!0,t.addHasError=!1}}},[a("i",{staticClass:"fas fa-book mr-2",attrs:{"aria-hidden":"true"}}),t._v("Add New")]),a("br"),a("mdb-tbl",{staticClass:"my-5 rounded-top border border-light border-bottom-0 ",attrs:{btn:"",responsive:"",striped:""}},[a("mdb-tbl-head",{staticClass:"tempting-azure-gradient"},[a("tr",[a("th",[t._v("No")]),a("th",[t._v("Category ID")]),a("th",[t._v("Category Name")]),a("th",[t._v("Action")])])]),a("mdb-tbl-body",[t._l(t.categories,(function(e,s){return a("tr",{key:e.id,attrs:{scope:"row"}},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.name))]),a("td",[a("mdb-btn",{staticClass:" btn-sm",attrs:{color:"info"},on:{click:function(a){return t.openEdit(e.id,e.name,s)}}},[a("i",{staticClass:"fas fa-pencil-alt mr-2",attrs:{"aria-hidden":"true"}}),t._v("Edit")]),a("mdb-btn",{staticClass:" btn-sm",attrs:{color:"danger"},on:{click:function(a){return t.openDelete(e.id,e.name,s)}}},[a("i",{staticClass:"fas fa-trash mr-2",attrs:{"aria-hidden":"true"}}),t._v(" Delete")])],1)])})),0===t.categories.length?a("tr",{attrs:{scope:"row"}},[a("td",{attrs:{colspan:"4"}},[t._v(" No item here ")])]):t._e()],2)],1)],1)]),a("mdb-row",{staticClass:"mt-4"},[a("section")])],1),a("mdb-modal",{staticClass:"text-left",attrs:{show:t.showAddModal,cascade:""},on:{close:function(e){t.showAddModal=!1}}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addCategory(e)}}},[a("mdb-modal-header",{staticClass:"primary-color white-text"},[a("h4",{staticClass:"title"},[a("mdb-icon",{attrs:{icon:"pencil-alt"}}),t._v(" Add Category ")],1)]),a("mdb-modal-body",{staticClass:"grey-text"},[t.addHasError?a("mdb-alert",{staticClass:"animated",class:t.animatedClass,attrs:{color:"danger"}},[t._v(t._s(t.addError))]):t._e(),a("mdb-input",{attrs:{size:"sm",label:"Category Name",icon:"folder",group:"",type:"text",validate:"",error:"wrong",success:"right"},model:{value:t.addName,callback:function(e){t.addName=e},expression:"addName"}})],1),a("mdb-modal-footer",[a("mdb-btn",{staticClass:"col-sm-6 d-flex align-center mx-auto",attrs:{type:"submit"}},[t._v("Add")])],1)],1)]),a("mdb-modal",{staticClass:"text-left",attrs:{show:t.showEditModal,cascade:""},on:{close:function(e){t.showEditModal=!1}}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.editCategory(e)}}},[a("mdb-modal-header",{staticClass:"primary-color white-text"},[a("h4",{staticClass:"title"},[a("mdb-icon",{attrs:{icon:"pencil-alt"}}),t._v(" Edit item ")],1)]),a("mdb-modal-body",{staticClass:"grey-text"},[t.editHasError?a("mdb-alert",{staticClass:"animated",class:t.animatedClass,attrs:{color:"danger"}},[t._v(t._s(t.editError))]):t._e(),t.editHasInfo?a("mdb-alert",{staticClass:"animated",class:t.animatedClass,attrs:{color:"info"}},[t._v(t._s(t.editInfo))]):t._e(),a("mdb-input",{attrs:{size:"sm",label:"Category Name",icon:"folder",group:"",type:"text",validate:"",error:"wrong",success:"right"},model:{value:t.editName,callback:function(e){t.editName=e},expression:"editName"}})],1),a("mdb-modal-footer",[a("mdb-btn",{staticClass:"col-sm-6 d-flex align-center mx-auto",attrs:{type:"submit"}},[t._v("Save Edit")])],1)],1)]),a("mdb-modal",{staticClass:"text-center",attrs:{show:t.confirmDelete,size:"sm",danger:""},on:{close:function(e){t.confirmDelete=!1}}},[a("mdb-modal-header",{staticClass:"young-passion-gradient",attrs:{center:"",close:!1}},[a("p",{staticClass:"heading"},[t._v("Are you sure?")])]),a("mdb-modal-body",[a("mdb-icon",{staticClass:"animated bounce mr-1",attrs:{icon:"times"}}),t._v(" Deleting '"+t._s(t.deleteName)+"' from category ")],1),a("mdb-modal-footer",{attrs:{center:""}},[a("mdb-btn",{staticClass:"btn-sm",attrs:{color:"danger"},on:{click:t.deleteCategory}},[t._v("Yes")]),a("mdb-btn",{staticClass:"btn-md",attrs:{color:"secondary"},on:{click:function(e){t.confirmDelete=!1}}},[t._v("No")])],1)],1)],1)},G=[],W=(a("a434"),a("b0c0"),{name:"admin",components:{mdbAlert:u["mdbAlert"],mdbContainer:u["mdbContainer"],mdbRow:u["mdbRow"],mdbTbl:u["mdbTbl"],mdbTblHead:u["mdbTblHead"],mdbTblBody:u["mdbTblBody"],mdbModal:u["mdbModal"],mdbModalHeader:u["mdbModalHeader"],mdbModalBody:u["mdbModalBody"],mdbModalFooter:u["mdbModalFooter"],mdbInput:u["mdbInput"],mdbBtn:u["mdbBtn"],mdbIcon:u["mdbIcon"],mdbNavbar:u["mdbNavbar"],mdbNavItem:u["mdbNavItem"],mdbNavbarNav:u["mdbNavbarNav"]},data:function(){return{animatedClass:"",showEditModal:!1,editHasError:"",editError:"",editHasInfo:"",editInfo:"",editName:"",editId:0,editIndex:0,confirmDelete:!1,deleteName:"",deleteId:0,deleteIndex:0,showAddModal:!1,addHasError:"",addError:"",addName:"",categories:[]}},methods:{openEdit:function(t,e,a){this.showEditModal=!0,this.editId=t,this.editIndex=a,this.editName=e},editCategory:function(){var t=this;this.animatedClass="",this.editHasError=!1,m.a.put("https://afternoon-beyond-11115.herokuapp.com/categories/edit",{id:this.editId,name:this.editName},{headers:{cmsaccesstoken:localStorage.cmsaccesstoken}}).then((function(e){var a=e.data;console.log(a),t.showEditModal=!1,t.categories[t.editIndex].name=a.name,t.editName=""})).catch((function(e){t.editHasError=!0,t.animatedClass="pulse",t.editError=e.response.data.error,t.editName=""}))},addCategory:function(){var t=this;if(!this.addName)return this.addHasError=!0,this.animatedClass="pulse",this.addError="Category name cannot be empty",!1;this.animatedClass="",this.addHasError=!1,m.a.post("https://afternoon-beyond-11115.herokuapp.com/categories/add",{name:this.addName},{headers:{cmsaccesstoken:localStorage.cmsaccesstoken}}).then((function(e){var a=e.data;console.log(a),t.showAddModal=!1,t.categories.push({id:a.id,name:a.name}),t.categories.sort((function(t,e){var a=t.name.toLowerCase(),s=e.name.toLowerCase();return a<s?-1:a>s?1:0})),t.addName=""})).catch((function(e){t.addHasError=!0,t.animatedClass="pulse",t.addError=e.response.data.error,t.addName=""}))},openDelete:function(t,e,a){this.confirmDelete=!0,this.deleteId=t,this.deleteName=e,this.deleteIndex=a},deleteCategory:function(){var t=this;m.a.delete("https://afternoon-beyond-11115.herokuapp.com/categories/delete",{data:{id:this.deleteId},headers:{cmsaccesstoken:localStorage.cmsaccesstoken}}).then((function(e){var a=e.data;t.confirmDelete=!1,console.log(a),t.categories.splice(t.deleteIndex,1)})).catch((function(t){console.log(t.response)}))}},created:function(){var t=this;"admin"!==this.$store.state.userInfo.role&&this.$router.push("/"),m.a.get("https://afternoon-beyond-11115.herokuapp.com/categories").then((function(e){var a=e.data;console.log(a),t.categories=a.Category})).catch((function(t){console.log(t)}))}}),K=W,Q=Object(p["a"])(K,J,G,!1,null,null,null),X=Q.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("mdb-container",{staticClass:"mt-5",attrs:{id:"categoriesTable"}},[a("mdb-row",{staticClass:"mt-5 align-items-left justify-content-start"},[a("section",{staticClass:"col-md-12"},[a("h3",[t._v("All Products")]),a("br"),a("mdb-btn",{staticClass:"m-0",attrs:{color:"primary"},on:{click:function(e){t.showAddModal=!0,t.addHasError=!1}}},[a("i",{staticClass:"fas fa-book mr-2",attrs:{"aria-hidden":"true"}}),t._v("Add New")]),a("br"),a("mdb-tbl",{staticClass:"my-5 rounded-top border border-light border-bottom-0 ",attrs:{btn:"",responsive:"",striped:""}},[a("mdb-tbl-head",{staticClass:"tempting-azure-gradient"},[a("tr",[a("th",[t._v("No")]),a("th",[t._v("Category ")]),a("th",[t._v("Name")]),a("th",[t._v("Price")]),a("th",[t._v("Stock")]),a("th",[t._v("Action")])])]),a("mdb-tbl-body",[t._l(t.products,(function(e,s){return a("tr",{key:e.id,attrs:{scope:"row"}},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.Category.name))]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.price))]),a("td",[t._v(t._s(e.stock))]),a("td",{staticClass:"col-md-4"},[a("router-link",{attrs:{to:"/products/"+e.id+"/detail"}},[a("mdb-btn",{staticClass:" btn-sm",attrs:{color:"success"}},[a("i",{staticClass:"fas fa-info-circle mr-2",attrs:{"aria-hidden":"true"}}),t._v("Detail")])],1),a("mdb-btn",{staticClass:" btn-sm",attrs:{color:"info"},on:{click:function(a){return t.openEdit(e.id,e.CategoryId,e.Category.name,e.name,e.price,e.stock,s)}}},[a("i",{staticClass:"fas fa-pencil-alt mr-2",attrs:{"aria-hidden":"true"}}),t._v("Edit")]),a("mdb-btn",{staticClass:" btn-sm",attrs:{color:"danger"},on:{click:function(a){return t.openDelete(e.id,e.name,s)}}},[a("i",{staticClass:"fas fa-trash mr-2",attrs:{"aria-hidden":"true"}}),t._v(" Delete")])],1)])})),0===t.products.length?a("tr",{attrs:{scope:"row"}},[a("td",{attrs:{colspan:"6"}},[t._v(" No item here ")])]):t._e()],2)],1)],1)]),a("mdb-row",{staticClass:"mt-5"},[a("section",{staticClass:"col-md-12"},[a("h3",[t._v("Picture Products")]),a("br"),t._l(t.productPictures,(function(e){return a("mdb-tbl",{key:e.id,staticClass:"my-5 rounded-top border border-light border-bottom-0 ",attrs:{btn:"",responsive:"",striped:""}},[a("mdb-tbl-head",{staticClass:"tempting-azure-gradient"},[a("tr",[a("th",{staticClass:"col-md-4"},[t._v(t._s(e.id))]),a("th",{staticClass:"col-md-4"},[t._v(t._s(e.filename))]),a("th",{staticClass:"col-md-4"},[t._v(t._s(e.UserId)+" ")])])]),a("mdb-tbl-body",[0!==t.productPictures.length?a("tr",{attrs:{scope:"row"}},[a("td",{staticClass:"col-md-4",attrs:{colspan:"2"}},[a("router-link",{attrs:{to:"/test"}},[a("mdb-btn",{staticClass:" btn-sm",attrs:{color:"success"}},[a("i",{staticClass:"fas fa-info-circle mr-2",attrs:{"aria-hidden":"true"}}),t._v("Detail")])],1)],1),a("td",[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"custom-file"},[a("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"uploader","aria-describedby":"inputGroupFileAddon01"}}),a("label",{staticClass:"custom-file-label",attrs:{for:"inputGroupFile01"}},[t._v("Choose file")])])])])]):t._e(),0===t.productPictures.length?a("tr",{attrs:{scope:"row"}},[a("td",{attrs:{colspan:"2"}},[t._v(" No item here ")]),a("td",[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"custom-file"},[a("div",{staticClass:"spinner-grow text-primary",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])]),a("input",{staticClass:"custom-file-input",attrs:{disabled:t.uploadDisabled,type:"file",id:"uploader",accept:"image/png, image/jpg, image/jpeg"},on:{change:function(a){return t.fileHandler(a,e.ProductId)}}}),a("label",{staticClass:"custom-file-label",attrs:{for:"uploader"}},[t._v(t._s(t.uploadLabel))])])])])]):t._e()])],1)}))],2)])],1),a("mdb-modal",{staticClass:"text-left",attrs:{show:t.showAddModal,cascade:""},on:{close:function(e){t.showAddModal=!1,t.clearAddForm()}}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addProduct(e)}}},[a("mdb-modal-header",{staticClass:"primary-color white-text"},[a("h4",{staticClass:"title"},[a("mdb-icon",{attrs:{icon:"pencil-alt"}}),t._v(" Add Product ")],1)]),a("mdb-modal-body",{staticClass:"grey-text"},[t.addHasError?a("mdb-alert",{staticClass:"animated",class:t.animatedClass,attrs:{color:"danger"}},[t._v(t._s(t.addError))]):t._e(),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategory,expression:"selectedCategory"}],staticClass:"browser-default custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedCategory=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",disabled:"",value:"default"}},[t._v("Select Category")]),t._l(t.categories,(function(e){return a("option",{key:e.id,domProps:{value:e.id},on:{click:function(a){t.selectedCategoryName=e.name}}},[t._v(t._s(e.name))])}))],2),a("mdb-input",{attrs:{size:"sm",label:"Name",group:"",type:"text",validate:"",error:"wrong",success:"right"},on:{change:function(e){t.addHasError=!1}},model:{value:t.addName,callback:function(e){t.addName=e},expression:"addName"}}),a("mdb-input",{attrs:{size:"sm",label:"Price",group:"",type:"number",validate:"",error:"wrong",success:"right"},on:{change:function(e){t.addHasError=!1}},model:{value:t.addPrice,callback:function(e){t.addPrice=e},expression:"addPrice"}}),a("mdb-input",{attrs:{size:"sm",label:"Stock",group:"",type:"number",validate:"",error:"wrong",success:"right"},on:{change:function(e){t.addHasError=!1}},model:{value:t.addStock,callback:function(e){t.addStock=e},expression:"addStock"}})],1),a("mdb-modal-footer",[a("mdb-btn",{staticClass:"col-sm-6 d-flex align-center mx-auto",attrs:{type:"submit"}},[a("i",{staticClass:"fa fa-plus mr-2 pt-1 pl-5",attrs:{"aria-hidden":"true"}}),t._v("Add")])],1)],1)]),a("mdb-modal",{staticClass:"text-left",attrs:{show:t.showEditModal,cascade:""},on:{close:function(e){t.showEditModal=!1}}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.editProduct(e)}}},[a("mdb-modal-header",{staticClass:"primary-color white-text"},[a("h4",{staticClass:"title"},[a("mdb-icon",{attrs:{icon:"pencil-alt"}}),t._v(" Edit item ")],1)]),a("mdb-modal-body",{staticClass:"grey-text"},[t.editHasError?a("mdb-alert",{staticClass:"animated",class:t.animatedClass,attrs:{color:"danger"}},[t._v(t._s(t.editError))]):t._e(),t.editHasInfo?a("mdb-alert",{staticClass:"animated",class:t.animatedClass,attrs:{color:"info"}},[t._v(t._s(t.editInfo))]):t._e(),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategory,expression:"selectedCategory"}],staticClass:"browser-default custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedCategory=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",disabled:"",value:"default"}},[t._v("Select Category")]),t._l(t.categories,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2),a("mdb-input",{attrs:{size:"sm",label:"Name",group:"",type:"text",validate:"",error:"wrong",success:"right"},on:{change:function(e){t.editHasError=!1}},model:{value:t.editName,callback:function(e){t.editName=e},expression:"editName"}}),a("mdb-input",{attrs:{size:"sm",label:"Price",group:"",type:"number",validate:"",error:"wrong",success:"right"},on:{change:function(e){t.editHasError=!1}},model:{value:t.editPrice,callback:function(e){t.editPrice=e},expression:"editPrice"}}),a("mdb-input",{attrs:{size:"sm",label:"Stock",group:"",type:"number",validate:"",error:"wrong",success:"right"},on:{change:function(e){t.editHasError=!1}},model:{value:t.editStock,callback:function(e){t.editStock=e},expression:"editStock"}})],1),a("mdb-modal-footer",[a("mdb-btn",{staticClass:"col-sm-6 d-flex align-center mx-auto",attrs:{type:"submit"}},[t._v("Save Edit")])],1)],1)]),a("mdb-modal",{staticClass:"text-center",attrs:{show:t.confirmDelete,size:"sm",danger:""},on:{close:function(e){t.confirmDelete=!1}}},[a("mdb-modal-header",{staticClass:"young-passion-gradient",attrs:{center:"",close:!1}},[a("p",{staticClass:"heading"},[t._v("Are you sure?")])]),a("mdb-modal-body",[a("mdb-icon",{staticClass:"animated bounce mr-1",attrs:{icon:"times"}}),t._v(" Deleting '"+t._s(t.deleteName)+"' from category ")],1),a("mdb-modal-footer",{attrs:{center:""}},[a("mdb-btn",{staticClass:"btn-sm",attrs:{color:"danger"},on:{click:t.deleteProduct}},[t._v("Yes")]),a("mdb-btn",{staticClass:"btn-md",attrs:{color:"secondary"},on:{click:function(e){t.confirmDelete=!1}}},[t._v("No")])],1)],1)],1)},tt=[],et={name:"merchant",components:{mdbAlert:u["mdbAlert"],mdbContainer:u["mdbContainer"],mdbRow:u["mdbRow"],mdbTbl:u["mdbTbl"],mdbTblHead:u["mdbTblHead"],mdbTblBody:u["mdbTblBody"],mdbModal:u["mdbModal"],mdbModalHeader:u["mdbModalHeader"],mdbModalBody:u["mdbModalBody"],mdbModalFooter:u["mdbModalFooter"],mdbInput:u["mdbInput"],mdbBtn:u["mdbBtn"],mdbIcon:u["mdbIcon"]},data:function(){return{animatedClass:"",showEditModal:!1,editHasError:"",editError:"",editHasInfo:"",editInfo:"",editName:"",editPrice:"",editStock:"",editId:0,editIndex:0,confirmDelete:!1,deleteName:"",deleteId:0,deleteIndex:0,showAddModal:!1,addHasError:"",addError:"",addName:"",addPrice:"",addStock:"",selectedCategory:"default",selectedCategoryName:"",uploadDisabled:!1,uploadLabel:"Choose a File"}},methods:{fileHandler:function(t,e){var a=this;this.uploadDisabled=!0,this.uploadLabel=t.target.files[0].name;var s=new FormData,o=t.target.files[0];s.append("name",o.name),s.append("file",o),s.append("upload_preset","otnddjow");var r={"Content-Type":"multipart/form-data;"};m.a.post("https://api.cloudinary.com/v1_1/personal-learning-project/image/upload",s,r).then((function(t){a.uploadDisabled=!1,console.log(t),a.uploadLabel="Choose a file",m.a.post("https://afternoon-beyond-11115.herokuapp.com/pictures/add",{filename:t.secure_url,ProductId:e})})).catch((function(t){console.log(t.response)}))},clearAddForm:function(){this.addName="",this.addPrice="",this.addStock="",this.selectedCategory="default"},openEdit:function(t,e,a,s,o,r,i){this.showEditModal=!0,this.editId=t,this.selectedCategory=e,this.editIndex=i,this.editName=s,this.editPrice=o,this.editStock=r,this.selectedCategoryName=a},editProduct:function(){var t=this;this.animatedClass="",this.editHasError=!1,m.a.put("https://afternoon-beyond-11115.herokuapp.com/products/edit",{id:this.editId,name:this.editName,price:this.editPrice,stock:this.editStock,CategoryId:this.selectedCategory},{headers:{cmsaccesstoken:localStorage.cmsaccesstoken}}).then((function(e){var a=e.data;t.showEditModal=!1,t.products[t.editIndex]={name:a.name,price:t.editPrice,stock:t.editStock,CategoryId:t.selectedCategory,Category:{id:t.selectedCategory,name:t.selectedCategoryName}},t.editName=""})).catch((function(e){console.log(e),t.editHasError=!0,t.animatedClass="pulse",t.editError=e.response.data.error,t.editName=""}))},addProduct:function(){var t=this;this.animatedClass="",this.addHasError=!1,m.a.post("https://afternoon-beyond-11115.herokuapp.com/products/add",{name:this.addName,price:this.addPrice,stock:this.addStock,CategoryId:this.selectedCategory},{headers:{cmsaccesstoken:localStorage.cmsaccesstoken}}).then((function(e){var a=e.data;console.log(a),t.showAddModal=!1,t.products.push({id:a.id,Category:{id:t.selectedCategory,name:t.selectedCategoryName},name:a.name,price:a.price,stock:a.stock,CategoryId:a.CategoryId}),t.clearAddForm(),t.$store.dispatch("loadCategories")})).catch((function(e){t.addHasError=!0,t.animatedClass="pulse",t.addError=e.response.data.error}))},openDelete:function(t,e,a){this.confirmDelete=!0,this.deleteId=t,this.deleteName=e,this.deleteIndex=a},deleteProduct:function(){var t=this;m.a.delete("https://afternoon-beyond-11115.herokuapp.com/products/delete",{data:{id:this.deleteId},headers:{cmsaccesstoken:localStorage.cmsaccesstoken}}).then((function(e){var a=e.data;t.confirmDelete=!1,console.log(a),t.products.splice(t.deleteIndex,1)})).catch((function(t){console.log(t.response)}))}},computed:{products:function(){return this.$store.state.merchantProducts},categories:function(){return this.$store.state.categories},productPictures:function(){return this.$store.state.pictures}},created:function(){this.$store.dispatch("loadProductPictures"),this.$store.dispatch("loadMerchantProduct"),this.$store.dispatch("loadCategories")}},at=et,st=Object(p["a"])(at,Z,tt,!1,null,"e8ca29ee",null),ot=st.exports;r["a"].use(M["a"]);var rt=new M["a"]({routes:[{path:"/",name:"index",component:D},{path:"/register",name:"register",component:B},{path:"/admin",name:"admin",component:X},{path:"/merchant",name:"merchant",component:ot},{path:"/logout",name:"Logout",component:q}]}),it=(a("d3b7"),a("2f62"));r["a"].use(it["a"]);var nt=new it["a"].Store({state:{loginEmail:"",isLoggedIn:!1,loginModal:!1,loginHasInfo:!1,loginInfo:"",userInfo:{},merchantProducts:[],categories:[],pictures:[]},mutations:{SetIsLogin:function(t,e){t.isLoggedIn=e},setLoginEmail:function(t,e){t.loginEmail=e},showLoginModal:function(t){t.loginModal=!0},hideLoginModal:function(t){t.loginModal=!1},showInfoLogin:function(t){t.loginHasInfo=!0},hideInfoLogin:function(t){t.loginHasInfo=!1},setLoginInfo:function(t,e){t.loginInfo=e},setInfo:function(t,e){t.userInfo=e},storeMerchantProducts:function(t,e){t.merchantProducts=e},storeCategories:function(t,e){t.categories=e},storeProductPictures:function(t,e){t.pictures=e}},actions:{clearUserInfo:function(t){var e=t.commit;return new Promise((function(t){t(e("SetIsLogin",!1))})).then((function(){return e("setInfo",{})}))},loadMerchantProduct:function(t){var e=t.commit;m.a.get("http://localhost:3000/products/owned",{headers:{cmsaccesstoken:localStorage.cmsaccesstoken}}).then((function(t){var a=t.data;console.log(a.result),e("storeMerchantProducts",a.result)}))},loadCategories:function(t){var e=t.commit;m.a.get("http://localhost:3000/categories").then((function(t){var a=t.data;e("storeCategories",a.Category)}))},loadProductPictures:function(t){var e=t.commit;m.a.get("http://localhost:3000/pictures/merchant",{headers:{cmsaccesstoken:localStorage.cmsaccesstoken}}).then((function(t){var a=t.data;e("storeProductPictures",a)})).catch((function(t){console.log(t.response)}))}}});r["a"].use(o.a),r["a"].config.productionTip=!1,new r["a"]({router:rt,store:nt,render:function(t){return t(x)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),o=a.n(s);o.a},"9c0c":function(t,e,a){}});
//# sourceMappingURL=app.1e4fb3f3.js.map